<form [formGroup]="userForm" class="grid gap-4 p-8">
  <div class="flex justify-between items-center">
    <span class="h5 mb-0">{{ data.modalTitle }}</span>
    <button mat-icon-button (click)="modalRef.close()">
      <mat-icon class="text-gray-600">close</mat-icon>
    </button>
  </div>
  <div class="grid gap-2">
    <div class="form-group">
      <label class="text-secondary" for="name">Nombre</label>
      <input type="text" class="form-control" id="firstName" formControlName="firstName" />
      <div *ngIf="
        formControls.firstName?.invalid &&
        (formControls.firstName?.dirty || formControls.firstName?.touched)
      " class="text-danger">
        <small *ngIf="userForm.get('name')?.errors?.['required']">El nombre es obligatorio.</small>
      </div>
    </div>

    <div class="form-group">
      <label class="text-secondary" for="name">Apellido</label>
      <input type="text" class="form-control" id="lastName" formControlName="lastName" />
      <div *ngIf="
        formControls.lastName?.invalid &&
        (formControls.lastName?.dirty || formControls.lastName?.touched)
      " class="text-danger">
        <small *ngIf="formControls.lastName?.errors?.['required']">El apellido es obligatorio.</small>
      </div>
    </div>

    <div class="form-group">
      <label class="text-secondary" for="email">Correo electrónico</label>
      <input type="email" class="form-control" id="email" formControlName="email" />
      <div *ngIf="
        formControls.email?.invalid &&
        (formControls.email?.dirty || formControls.email?.touched)
      " class="text-danger">
        <small *ngIf="formControls.email?.errors?.['required']">El correo es obligatorio.</small>
        <small *ngIf="formControls.email?.errors?.['email']">Ingresa un correo valido.</small>
      </div>
    </div>

    <div class="form-group">
      <label class="text-secondary" for="password">Contraseña</label>
      <input type="password" class="form-control" id="password" formControlName="password" />
      <div *ngIf="
        formControls.password?.invalid &&
        (formControls.password?.dirty || formControls.password?.touched)
      " class="text-danger mt-1 grid gap-1">
        <small *ngIf="formControls.password?.errors?.['required']">La contraseña es obligatoria.</small>
        <small *ngIf="formControls.password?.errors?.['minlength']">La contraseña debe tener al menos 8
          caracteres.</small>
        <small *ngIf="formControls.password?.errors?.['pattern']">La contraseña debe tener al menos una
          mayúscula.</small>
      </div>
    </div>
  </div>
  <button mat-flat-button color="accent" [disabled]="userForm.invalid" (click)="modalRef.close(userForm.getRawValue())">
    Confirmar
  </button>
</form>
